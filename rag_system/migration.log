2025-10-28 04:19:05,225 - googleapiclient.discovery_cache - INFO - file_cache is only supported with oauth2client<4.0.0
2025-10-28 04:19:06,598 - __main__ - INFO - 
============================================================
2025-10-28 04:19:06,598 - __main__ - INFO - Firestore Vector Search ÁßªË°åÂá¶ÁêÜ
2025-10-28 04:19:06,599 - __main__ - INFO - ============================================================
2025-10-28 04:19:06,600 - __main__ - INFO - Spreadsheet ID: 1roSp4WKubXVzZ6iWd6OY5lMU5OpvFsVNQHy11_Ym-wA
2025-10-28 04:19:06,600 - __main__ - INFO - Firestore Collection: knowledge_base
2025-10-28 04:19:06,600 - __main__ - INFO - Embedding Model: gemini-embedding-001
2025-10-28 04:19:06,600 - __main__ - INFO - Embedding Dimension: 2048 (FirestoreÂà∂Á¥Ñ)
2025-10-28 04:19:06,600 - __main__ - INFO - Batch Size: 50
2025-10-28 04:19:06,600 - __main__ - INFO - Dry Run: True
2025-10-28 04:19:06,600 - __main__ - INFO - Skip: 0, Limit: 5
2025-10-28 04:19:06,600 - __main__ - INFO - ============================================================

2025-10-28 04:19:06,600 - __main__ - INFO - === Spreadsheet„Éá„Éº„ÇøË™≠„ÅøËæº„ÅøÈñãÂßã ===
2025-10-28 04:20:06,989 - __main__ - ERROR - 

‚ùå ‰∫àÊúü„Åó„Å™„ÅÑ„Ç®„É©„Éº: The read operation timed out
Traceback (most recent call last):
  File "/Users/t.asai/code/appsheet-gas-automation/rag_system/scripts/migrate_to_firestore_vectors.py", line 436, in main_async
    await migration.migrate()
  File "/Users/t.asai/code/appsheet-gas-automation/rag_system/scripts/migrate_to_firestore_vectors.py", line 346, in migrate
    records = self.read_spreadsheet_data()
  File "/Users/t.asai/code/appsheet-gas-automation/rag_system/scripts/migrate_to_firestore_vectors.py", line 146, in read_spreadsheet_data
    ).execute()
      ~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/googleapiclient/_helpers.py", line 130, in positional_wrapper
    return wrapped(*args, **kwargs)
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/googleapiclient/http.py", line 923, in execute
    resp, content = _retry_request(
                    ~~~~~~~~~~~~~~^
        http,
        ^^^^^
    ...<7 lines>...
        headers=self.headers,
        ^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/googleapiclient/http.py", line 222, in _retry_request
    raise exception
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/googleapiclient/http.py", line 191, in _retry_request
    resp, content = http.request(uri, method, *args, **kwargs)
                    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/google_auth_httplib2.py", line 218, in request
    response, content = self.http.request(
                        ~~~~~~~~~~~~~~~~~^
        uri,
        ^^^^
    ...<5 lines>...
        **kwargs
        ^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/httplib2/__init__.py", line 1727, in request
    (response, content) = self._request(
                          ~~~~~~~~~~~~~^
        conn, authority, uri, request_uri, method, body, headers, redirections, cachekey,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/httplib2/__init__.py", line 1447, in _request
    (response, content) = self._conn_request(conn, request_uri, method, body, headers)
                          ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/site-packages/httplib2/__init__.py", line 1399, in _conn_request
    response = conn.getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 1430, in getresponse
    response.begin()
    ~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 331, in begin
    version, status, reason = self._read_status()
                              ~~~~~~~~~~~~~~~~~^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/http/client.py", line 292, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
               ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/socket.py", line 719, in readinto
    return self._sock.recv_into(b)
           ~~~~~~~~~~~~~~~~~~~~^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 1304, in recv_into
    return self.read(nbytes, buffer)
           ~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/Library/Frameworks/Python.framework/Versions/3.13/lib/python3.13/ssl.py", line 1138, in read
    return self._sslobj.read(len, buffer)
           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
TimeoutError: The read operation timed out
2025-10-28 04:20:07,000 - __main__ - INFO - 
============================================================
2025-10-28 04:20:07,000 - __main__ - INFO - ÁßªË°åÁµêÊûú„Çµ„Éû„É™„Éº
2025-10-28 04:20:07,000 - __main__ - INFO - ============================================================
2025-10-28 04:20:07,000 - __main__ - INFO - Á∑è‰ª∂Êï∞: 0
2025-10-28 04:20:07,001 - __main__ - INFO - ÊàêÂäü: 0 (0.0%)
2025-10-28 04:20:07,001 - __main__ - INFO - „Çπ„Ç≠„ÉÉ„Éó: 0
2025-10-28 04:20:07,001 - __main__ - INFO - „Ç®„É©„Éº: 0
2025-10-28 04:20:07,001 - __main__ - INFO - ÂÆüË°åÊôÇÈñì: 60.4Áßí
2025-10-28 04:20:07,001 - __main__ - INFO - Âá¶ÁêÜÈÄüÂ∫¶: 0.00‰ª∂/Áßí
2025-10-28 04:20:07,001 - __main__ - INFO - ============================================================

2025-10-28 04:41:42,995 - googleapiclient.discovery_cache - INFO - file_cache is only supported with oauth2client<4.0.0
2025-10-28 04:41:42,997 - __main__ - INFO - ============================================================
2025-10-28 04:41:42,997 - __main__ - INFO - üöÄ Spreadsheet‚ÜíFirestoreÁßªÊ§çÈñãÂßã
2025-10-28 04:41:42,997 - __main__ - INFO - ============================================================
2025-10-28 04:41:42,997 - __main__ - INFO - Spreadsheet ID: 1roSp4WKubXVzZ6iWd6OY5lMU5OpvFsVNQHy11_Ym-wA
2025-10-28 04:41:42,997 - __main__ - INFO - GCP Project: fractal-ecosystem
2025-10-28 04:41:42,997 - __main__ - INFO - Dry Run: True
2025-10-28 04:41:42,997 - __main__ - INFO - 
2025-10-28 04:41:42,997 - __main__ - INFO - üìñ KnowledgeBase„Ç∑„Éº„ÉàË™≠„ÅøËæº„ÅøÈñãÂßã...
2025-10-28 04:41:46,123 - __main__ - INFO - ‚úÖ 3194‰ª∂„ÅÆKnowledgeBase„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü
2025-10-28 04:41:46,123 - __main__ - INFO - üìñ Embeddings„Ç∑„Éº„ÉàË™≠„ÅøËæº„ÅøÈñãÂßã...
2025-10-28 04:42:11,533 - __main__ - INFO - ‚úÖ 3151‰ª∂„ÅÆEmbeddings„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü
2025-10-28 04:42:11,542 - __main__ - INFO - üîß PCA„É¢„Éá„É´Â≠¶ÁøíÈñãÂßã...
2025-10-28 04:42:11,710 - __main__ - INFO -    ÂÖ•Âäõ: 3151‰ª∂ x 3072Ê¨°ÂÖÉ
2025-10-28 04:42:16,199 - __main__ - INFO - ‚úÖ PCAÂ≠¶ÁøíÂÆå‰∫Ü
2025-10-28 04:42:16,199 - __main__ - INFO -    Âá∫Âäõ: 2048Ê¨°ÂÖÉ
2025-10-28 04:42:16,199 - __main__ - INFO -    ÊÉÖÂ†±‰øùÊåÅÁéá: 100.00%
2025-10-28 04:42:16,201 - __main__ - INFO - üîç DRY RUN „É¢„Éº„Éâ: Firestore„Å∏„ÅÆÊõ∏„ÅçËæº„Åø„ÅØ„Çπ„Ç≠„ÉÉ„Éó„Åó„Åæ„Åô
2025-10-28 04:42:16,201 - __main__ - INFO - üöÄ FirestoreÁßªÊ§çÈñãÂßã...
2025-10-28 04:42:16,201 - __main__ - INFO -    „Éó„É≠„Ç∏„Çß„ÇØ„Éà: fractal-ecosystem
2025-10-28 04:42:16,201 - __main__ - INFO -    „Ç≥„É¨„ÇØ„Ç∑„Éß„É≥: knowledge_base
2025-10-28 04:42:16,201 - __main__ - INFO -    „Éê„ÉÉ„ÉÅ„Çµ„Ç§„Ç∫: 100
2025-10-28 04:42:16,202 - __main__ - INFO - ‚úÖ FirestoreÁßªÊ§çÂÆå‰∫Ü
2025-10-28 04:42:16,202 - __main__ - INFO - 
2025-10-28 04:42:16,202 - __main__ - INFO - ============================================================
2025-10-28 04:42:16,202 - __main__ - INFO - üìä ÁßªÊ§çÁµ±Ë®à
2025-10-28 04:42:16,202 - __main__ - INFO - ============================================================
2025-10-28 04:42:16,202 - __main__ - INFO - ÂêàË®à‰ª∂Êï∞: 3194
2025-10-28 04:42:16,202 - __main__ - INFO - ÊàêÂäü: 3193
2025-10-28 04:42:16,202 - __main__ - INFO - „Çπ„Ç≠„ÉÉ„Éó: 1
2025-10-28 04:42:16,202 - __main__ - INFO - „Ç®„É©„Éº: 0
2025-10-28 04:42:16,202 - __main__ - INFO - ÂÆüË°åÊôÇÈñì: 33.2Áßí
2025-10-28 04:42:16,202 - __main__ - INFO - ÊàêÂäüÁéá: 100.0%
2025-10-28 04:43:11,156 - googleapiclient.discovery_cache - INFO - file_cache is only supported with oauth2client<4.0.0
2025-10-28 04:43:11,376 - __main__ - INFO - ============================================================
2025-10-28 04:43:11,376 - __main__ - INFO - üöÄ Spreadsheet‚ÜíFirestoreÁßªÊ§çÈñãÂßã
2025-10-28 04:43:11,376 - __main__ - INFO - ============================================================
2025-10-28 04:43:11,376 - __main__ - INFO - Spreadsheet ID: 1roSp4WKubXVzZ6iWd6OY5lMU5OpvFsVNQHy11_Ym-wA
2025-10-28 04:43:11,376 - __main__ - INFO - GCP Project: fractal-ecosystem
2025-10-28 04:43:11,376 - __main__ - INFO - Dry Run: False
2025-10-28 04:43:11,376 - __main__ - INFO - 
2025-10-28 04:43:11,376 - __main__ - INFO - üìñ KnowledgeBase„Ç∑„Éº„ÉàË™≠„ÅøËæº„ÅøÈñãÂßã...
2025-10-28 04:43:14,360 - __main__ - INFO - ‚úÖ 3194‰ª∂„ÅÆKnowledgeBase„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü
2025-10-28 04:43:14,360 - __main__ - INFO - üìñ Embeddings„Ç∑„Éº„ÉàË™≠„ÅøËæº„ÅøÈñãÂßã...
2025-10-28 04:43:38,806 - __main__ - INFO - ‚úÖ 3151‰ª∂„ÅÆEmbeddings„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü
2025-10-28 04:43:38,813 - __main__ - INFO - üîß PCA„É¢„Éá„É´Â≠¶ÁøíÈñãÂßã...
2025-10-28 04:43:38,977 - __main__ - INFO -    ÂÖ•Âäõ: 3151‰ª∂ x 3072Ê¨°ÂÖÉ
2025-10-28 04:43:43,272 - __main__ - INFO - ‚úÖ PCAÂ≠¶ÁøíÂÆå‰∫Ü
2025-10-28 04:43:43,273 - __main__ - INFO -    Âá∫Âäõ: 2048Ê¨°ÂÖÉ
2025-10-28 04:43:43,273 - __main__ - INFO -    ÊÉÖÂ†±‰øùÊåÅÁéá: 100.00%
2025-10-28 04:43:43,274 - __main__ - INFO - üöÄ FirestoreÁßªÊ§çÈñãÂßã...
2025-10-28 04:43:43,274 - __main__ - INFO -    „Éó„É≠„Ç∏„Çß„ÇØ„Éà: fractal-ecosystem
2025-10-28 04:43:43,274 - __main__ - INFO -    „Ç≥„É¨„ÇØ„Ç∑„Éß„É≥: knowledge_base
2025-10-28 04:43:43,274 - __main__ - INFO -    „Éê„ÉÉ„ÉÅ„Çµ„Ç§„Ç∫: 100
2025-10-28 04:45:22,671 - googleapiclient.discovery_cache - INFO - file_cache is only supported with oauth2client<4.0.0
2025-10-28 04:45:22,891 - __main__ - INFO - ============================================================
2025-10-28 04:45:22,891 - __main__ - INFO - üöÄ Spreadsheet‚ÜíFirestoreÁßªÊ§çÈñãÂßã
2025-10-28 04:45:22,891 - __main__ - INFO - ============================================================
2025-10-28 04:45:22,891 - __main__ - INFO - Spreadsheet ID: 1roSp4WKubXVzZ6iWd6OY5lMU5OpvFsVNQHy11_Ym-wA
2025-10-28 04:45:22,891 - __main__ - INFO - GCP Project: fractal-ecosystem
2025-10-28 04:45:22,891 - __main__ - INFO - Dry Run: False
2025-10-28 04:45:22,891 - __main__ - INFO - 
2025-10-28 04:45:22,891 - __main__ - INFO - üìñ KnowledgeBase„Ç∑„Éº„ÉàË™≠„ÅøËæº„ÅøÈñãÂßã...
2025-10-28 04:45:26,216 - __main__ - INFO - ‚úÖ 3194‰ª∂„ÅÆKnowledgeBase„Éá„Éº„Çø„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü
2025-10-28 04:45:26,216 - __main__ - INFO - üìñ Embeddings„Ç∑„Éº„ÉàË™≠„ÅøËæº„ÅøÈñãÂßã...
2025-10-28 04:45:51,106 - __main__ - INFO - ‚úÖ 3151‰ª∂„ÅÆEmbeddings„ÇíË™≠„ÅøËæº„Åø„Åæ„Åó„Åü
2025-10-28 04:45:51,114 - __main__ - INFO - üîß PCA„É¢„Éá„É´Â≠¶ÁøíÈñãÂßã...
2025-10-28 04:45:51,280 - __main__ - INFO -    ÂÖ•Âäõ: 3151‰ª∂ x 3072Ê¨°ÂÖÉ
2025-10-28 04:45:55,694 - __main__ - INFO - ‚úÖ PCAÂ≠¶ÁøíÂÆå‰∫Ü
2025-10-28 04:45:55,695 - __main__ - INFO -    Âá∫Âäõ: 2048Ê¨°ÂÖÉ
2025-10-28 04:45:55,695 - __main__ - INFO -    ÊÉÖÂ†±‰øùÊåÅÁéá: 100.00%
2025-10-28 04:45:55,696 - __main__ - INFO - üöÄ FirestoreÁßªÊ§çÈñãÂßã...
2025-10-28 04:45:55,696 - __main__ - INFO -    „Éó„É≠„Ç∏„Çß„ÇØ„Éà: fractal-ecosystem
2025-10-28 04:45:55,696 - __main__ - INFO -    „Ç≥„É¨„ÇØ„Ç∑„Éß„É≥: knowledge_base
2025-10-28 04:45:55,696 - __main__ - INFO -    „Éê„ÉÉ„ÉÅ„Çµ„Ç§„Ç∫: 100
2025-10-28 04:54:31,538 - __main__ - WARNING - „Éô„ÇØ„Éà„É´„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì: calls_threads_CALLAC-d5eec5f2
2025-10-28 04:54:42,094 - __main__ - INFO - ‚úÖ FirestoreÁßªÊ§çÂÆå‰∫Ü
2025-10-28 04:54:42,095 - __main__ - INFO - 
2025-10-28 04:54:42,095 - __main__ - INFO - ============================================================
2025-10-28 04:54:42,095 - __main__ - INFO - üìä ÁßªÊ§çÁµ±Ë®à
2025-10-28 04:54:42,095 - __main__ - INFO - ============================================================
2025-10-28 04:54:42,095 - __main__ - INFO - ÂêàË®à‰ª∂Êï∞: 3193
2025-10-28 04:54:42,095 - __main__ - INFO - ÊàêÂäü: 3193
2025-10-28 04:54:42,095 - __main__ - INFO - „Çπ„Ç≠„ÉÉ„Éó: 1
2025-10-28 04:54:42,095 - __main__ - INFO - „Ç®„É©„Éº: 0
2025-10-28 04:54:42,095 - __main__ - INFO - ÂÆüË°åÊôÇÈñì: 559.2Áßí
2025-10-28 04:54:42,095 - __main__ - INFO - ÊàêÂäüÁéá: 100.0%
