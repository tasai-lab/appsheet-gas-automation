# ã‚­ãƒ¥ãƒ¼å‡¦ç†çµ±åˆ - å®Ÿè£…ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

## ğŸ“‹ æ¦‚è¦

è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®åŒæ™‚ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«ã‚ˆã‚‹API ã‚¯ã‚©ãƒ¼ã‚¿æ¯æ¸‡ã‚’é˜²ããŸã‚ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå‡¦ç†ã‚’ã‚­ãƒ¥ãƒ¼ã§é †æ¬¡å®Ÿè¡Œã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã—ãŸã€‚

## ğŸ¯ è§£æ±ºã™ã‚‹å•é¡Œ

### ä»¥å‰ã®å‹•ä½œ
```
5å€‹ã®PDFã‚’åŒæ™‚ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
  â†“
5å€‹å…¨ã¦ãŒä¸¦è¡Œå‡¦ç†é–‹å§‹
  â†“
Document AI: 5å€‹ã®åŒæ™‚ãƒãƒƒãƒå‡¦ç† â†’ âŒ 429ã‚¨ãƒ©ãƒ¼ (åˆ¶é™: 5å€‹)
Embedding API: å¤§é‡ã®åŒæ™‚ãƒªã‚¯ã‚¨ã‚¹ãƒˆ â†’ âŒ 429ã‚¨ãƒ©ãƒ¼ (åˆ¶é™: 60 RPM)
```

### æ–°ã—ã„å‹•ä½œ
```
5å€‹ã®PDFã‚’åŒæ™‚ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
  â†“
äº‹å‰ãƒã‚§ãƒƒã‚¯(æš—å·åŒ–ãƒ»ãƒšãƒ¼ã‚¸æ•°) â†’ å³åº§ã« "queued" ãƒ¬ã‚¹ãƒãƒ³ã‚¹
  â†“
ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ  (ä½ç½®: 1, 2, 3, 4, 5)
  â†“
ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ¯ãƒ¼ã‚«ãƒ¼ãŒ1ä»¶ãšã¤é †æ¬¡å‡¦ç†
  â†“
âœ… Document AI: 1ä»¶ãšã¤å®Ÿè¡Œ â†’ ã‚¯ã‚©ãƒ¼ã‚¿å†…
âœ… Embedding API: Rate limiting (1ç§’é–“éš”) â†’ ã‚¯ã‚©ãƒ¼ã‚¿å†…
```

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

1. **ProcessingQueue** (`app/processing_queue.py`)
   - ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ãªã‚­ãƒ¥ãƒ¼å®Ÿè£…
   - ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ¯ãƒ¼ã‚«ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰
   - 1ä»¶ãšã¤é †æ¬¡å‡¦ç†
   - Graceful shutdown ã‚µãƒãƒ¼ãƒˆ

2. **EventHandler** (`app/event_handler.py`)
   - `handle_event()`: äº‹å‰ãƒã‚§ãƒƒã‚¯ â†’ ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ 
   - `_process_document()`: å®Ÿéš›ã®é‡ã„å‡¦ç†
   - `queue_status()`: ã‚­ãƒ¥ãƒ¼çŠ¶æ…‹ç¢ºèªã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

3. **å‡¦ç†ãƒ•ãƒ­ãƒ¼**
   ```
   Cloud Storage Event
         â†“
   handle_event() - ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰
     - PDFãƒã‚§ãƒƒã‚¯ (æš—å·åŒ–)
     - ãƒšãƒ¼ã‚¸æ•°ãƒã‚§ãƒƒã‚¯ (1-30)
     - ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ 
     - 202 "queued" ãƒ¬ã‚¹ãƒãƒ³ã‚¹
         â†“
   ã‚­ãƒ¥ãƒ¼ (FIFO)
         â†“
   _process_document() - ãƒ¯ãƒ¼ã‚«ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰
     - Document AI å‡¦ç†
     - Embedding ç”Ÿæˆ (1ç§’é–“éš”)
     - Vector Store ã«ä¿å­˜
     - æˆåŠŸ/å¤±æ•—ã‚’è¨˜éŒ²
   ```

## ğŸ“ ä¸»ãªå¤‰æ›´ç‚¹

### 1. `app/processing_queue.py` (æ–°è¦ä½œæˆ)

```python
class ProcessingQueue:
    """ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ãªé †æ¬¡å‡¦ç†ã‚­ãƒ¥ãƒ¼"""
    
    def start(self):
        """ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ãƒ¯ãƒ¼ã‚«ãƒ¼èµ·å‹•"""
    
    def enqueue(self, bucket, filename, callback) -> int:
        """ã‚¸ãƒ§ãƒ–ã‚’ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ """
    
    def get_queue_size(self) -> int:
        """ç¾åœ¨ã®ã‚­ãƒ¥ãƒ¼ã‚µã‚¤ã‚ºå–å¾—"""
    
    def _worker_loop(self):
        """ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒ«ãƒ¼ãƒ— (åˆ¥ã‚¹ãƒ¬ãƒƒãƒ‰ã§å®Ÿè¡Œ)"""
```

### 2. `app/event_handler.py` ã®å¤‰æ›´

#### Before:
```python
def handle_event(self):
    # å…¨ã¦ã®å‡¦ç†ã‚’åŒæœŸå®Ÿè¡Œ
    event = parse_event(...)
    text = docai.extract_text(...)  # é‡ã„å‡¦ç†
    embeddings = embedder.embed_text(...)  # é‡ã„å‡¦ç†
    return 200  # å‡¦ç†å®Œäº†ã¾ã§å¾…ã¤
```

#### After:
```python
def handle_event(self):
    # è»½ã„äº‹å‰ãƒã‚§ãƒƒã‚¯ã®ã¿
    event = parse_event(...)
    check_encryption_and_pages(...)  # è»½ã„å‡¦ç†
    
    # ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ ã—ã¦å³åº§ã«è¿”ã™
    queue.enqueue(event.bucket, event.name, self._process_document)
    return 202  # "queued"

def _process_document(self, bucket, filename):
    # é‡ã„å‡¦ç† (åˆ¥ã‚¹ãƒ¬ãƒƒãƒ‰ã§å®Ÿè¡Œ)
    text = docai.extract_text(...)
    embeddings = embedder.embed_text(...)
    vector_store.upsert(...)
```

### 3. æ–°ã—ã„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

```bash
# ã‚­ãƒ¥ãƒ¼çŠ¶æ…‹ç¢ºèª
GET /queue-status

# ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹
{
  "queue_size": 3,
  "status": "running"  # ã¾ãŸã¯ "idle"
}
```

## ğŸ”„ å‡¦ç†ã®æµã‚Œ (è©³ç´°)

### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚¤ãƒ™ãƒ³ãƒˆå—ä¿¡
```
POST / (Eventarc ã‹ã‚‰å‘¼ã°ã‚Œã‚‹)
  â†“
handle_event()
  - CloudEvent ã‚’ãƒ‘ãƒ¼ã‚¹
  - PDFãƒ•ã‚¡ã‚¤ãƒ«ã‹ãƒã‚§ãƒƒã‚¯
  - retry_tracker ã§é‡è¤‡ãƒã‚§ãƒƒã‚¯
```

### ã‚¹ãƒ†ãƒƒãƒ—2: äº‹å‰ãƒã‚§ãƒƒã‚¯
```
GCS ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ (è»½é‡)
  â†“
PyPDF2 ã§åŸºæœ¬æƒ…å ±å–å¾—
  - æš—å·åŒ–ãƒã‚§ãƒƒã‚¯ â†’ Skip if encrypted
  - ãƒšãƒ¼ã‚¸æ•°ãƒã‚§ãƒƒã‚¯ â†’ Skip if >30 pages
  â†“
å•é¡Œãªã‘ã‚Œã°ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ 
```

### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚­ãƒ¥ãƒ¼ã‚¤ãƒ³ã‚°
```
ProcessingQueue.enqueue()
  â†“
QueuedJob ä½œæˆ:
  - bucket: "fractalautomations-documents"
  - filename: "document.pdf"
  - callback: _process_document
  - timestamp: ç¾åœ¨æ™‚åˆ»
  â†“
ã‚­ãƒ¥ãƒ¼ã«è¿½åŠ  (thread-safe)
  â†“
ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«å³åº§ã«ãƒ¬ã‚¹ãƒãƒ³ã‚¹:
{
  "status": "queued",
  "queue_size": 3,
  "attempt": 1
}
```

### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†
```
ãƒ¯ãƒ¼ã‚«ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰ (_worker_loop)
  â†“
ã‚­ãƒ¥ãƒ¼ã‹ã‚‰1ä»¶å–ã‚Šå‡ºã— (blocking)
  â†“
_process_document(bucket, filename)
  â†“
[é‡ã„å‡¦ç†é–‹å§‹]
  1. Document AI (åŒæœŸ or ãƒãƒƒãƒ)
     - 1-15ãƒšãƒ¼ã‚¸: åŒæœŸå‡¦ç†
     - 16-30ãƒšãƒ¼ã‚¸: ãƒãƒƒãƒå‡¦ç† + ãƒªãƒˆãƒ©ã‚¤(5s, 10s, 20s)
  
  2. Embedding ç”Ÿæˆ
     - å„ãƒãƒ£ãƒ³ã‚¯ã«å¯¾ã—ã¦ãƒ«ãƒ¼ãƒ—
     - Rate limiting: 1ç§’é–“éš”
     - ãƒªãƒˆãƒ©ã‚¤: 5å› (1s, 2s, 4s, 8s, 16s)
  
  3. Vector Store ã«ä¿å­˜
     - Raw chunks (å¸¸ã«)
     - Summary chunks (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
  â†“
æˆåŠŸ â†’ retry_tracker.mark_success()
å¤±æ•— â†’ retry_tracker.mark_failure() â†’ å†è©¦è¡Œå¯èƒ½
  â†“
æ¬¡ã®ã‚¸ãƒ§ãƒ–ã¸ (ã‚­ãƒ¥ãƒ¼ãŒç©ºãªã‚‰å¾…æ©Ÿ)
```

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç‰¹æ€§

### ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·
- **äº‹å‰ãƒã‚§ãƒƒã‚¯**: 1-3ç§’ (GCSãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ + PyPDF2èª­ã¿è¾¼ã¿)
- **API ãƒ¬ã‚¹ãƒãƒ³ã‚¹**: å³åº§ (202 "queued")
- **å®Ÿéš›ã®å‡¦ç†**: 30ç§’ã€œ5åˆ† (ãƒšãƒ¼ã‚¸æ•°ã¨ãƒãƒ£ãƒ³ã‚¯æ•°ã«ã‚ˆã‚‹)

### ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆ
- **ä¸¦è¡Œå‡¦ç†æ™‚ä»£**: 5ä»¶åŒæ™‚ â†’ 4ä»¶å¤±æ•— (80% ã‚¨ãƒ©ãƒ¼ç‡)
- **ã‚­ãƒ¥ãƒ¼å‡¦ç†æ™‚ä»£**: 5ä»¶é †æ¬¡ â†’ 5ä»¶æˆåŠŸ (0% ã‚¨ãƒ©ãƒ¼ç‡)

### ã‚­ãƒ¥ãƒ¼å¾…æ©Ÿæ™‚é–“
```
1ä»¶ç›®: 0ç§’ (å³åº§ã«å‡¦ç†é–‹å§‹)
2ä»¶ç›®: 30ç§’ã€œ5åˆ† (1ä»¶ç›®ã®å‡¦ç†æ™‚é–“)
3ä»¶ç›®: 1ã€œ10åˆ† (1ä»¶ç›®+2ä»¶ç›®ã®å‡¦ç†æ™‚é–“)
...
```

## ğŸ›¡ï¸ ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

### 1. äº‹å‰ãƒã‚§ãƒƒã‚¯ã§ã®ã‚¨ãƒ©ãƒ¼
```python
try:
    check_encryption_and_pages()
except Exception as e:
    return 500 {"status": "error", "message": "Pre-check failed"}
```
â†’ ã‚­ãƒ¥ãƒ¼ã«ã¯è¿½åŠ ã•ã‚Œãªã„

### 2. å‡¦ç†ä¸­ã®ã‚¨ãƒ©ãƒ¼
```python
try:
    _process_document()
except Exception as e:
    logger.exception("Processing failed")
    retry_tracker.mark_failure()
    return 500 {"status": "error"}
```
â†’ retry_tracker ãŒå†è©¦è¡Œã‚’ç®¡ç†

### 3. ã‚¯ã‚©ãƒ¼ã‚¿ã‚¨ãƒ©ãƒ¼
- **Document AI**: 3å›ãƒªãƒˆãƒ©ã‚¤ (5s, 10s, 20s)
- **Embedding API**: 5å›ãƒªãƒˆãƒ©ã‚¤ (1s, 2s, 4s, 8s, 16s)
- **ãã‚Œã§ã‚‚å¤±æ•—**: ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«è¨˜éŒ²ã€æ‰‹å‹•ç¢ºèªå¿…è¦

## ğŸ” ãƒ¢ãƒ‹ã‚¿ãƒªãƒ³ã‚°

### Cloud Logging ã‚¯ã‚¨ãƒª

#### ã‚­ãƒ¥ãƒ¼ã‚µã‚¤ã‚ºã®ãƒˆãƒ¬ãƒ³ãƒ‰
```
resource.type="cloud_run_revision"
resource.labels.service_name="vectorize-document"
textPayload=~"queue size"
```

#### å‡¦ç†æ™‚é–“ã®æ¸¬å®š
```
resource.type="cloud_run_revision"
resource.labels.service_name="vectorize-document"
(textPayload=~"Queue processing start" OR textPayload=~"Processing complete")
```

#### ã‚¨ãƒ©ãƒ¼ç‡ã®ç¢ºèª
```
resource.type="cloud_run_revision"
resource.labels.service_name="vectorize-document"
severity>=ERROR
textPayload=~"Processing failed"
```

### REST API ã§ã‚­ãƒ¥ãƒ¼çŠ¶æ…‹ç¢ºèª
```bash
curl -H "Authorization: Bearer $(gcloud auth print-identity-token)" \
  https://vectorize-document-XXXXX-an.a.run.app/queue-status
```

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤æ‰‹é †

### 1. ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
```bash
# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã®å ´åˆ
python -m pytest tests/

# main.py ã‚’ç›´æ¥å®Ÿè¡Œ
python main.py
```

### 2. æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
```bash
# ã‚³ãƒŸãƒƒãƒˆ
git add app/processing_queue.py app/event_handler.py
git commit -m "Integrate processing queue"
git push origin main

# Cloud Build ã§ãƒ‡ãƒ—ãƒ­ã‚¤
gcloud builds submit --config=cloudbuild.yaml --project=fractalautomations
```

### 3. ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª
```bash
# æœ€æ–°ãƒªãƒ“ã‚¸ãƒ§ãƒ³ç¢ºèª
gcloud run revisions list \
  --service=vectorize-document \
  --region=asia-northeast1 \
  --limit=1

# ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
curl -H "Authorization: Bearer $(gcloud auth print-identity-token)" \
  https://vectorize-document-XXXXX-an.a.run.app/health

# ã‚­ãƒ¥ãƒ¼çŠ¶æ…‹ç¢ºèª
curl -H "Authorization: Bearer $(gcloud auth print-identity-token)" \
  https://vectorize-document-XXXXX-an.a.run.app/queue-status
```

## ğŸ“ˆ æœŸå¾…ã•ã‚Œã‚‹åŠ¹æœ

### Before (ä¸¦è¡Œå‡¦ç†)
```
âœ… 1/5 files processed (20% success)
âŒ 4/5 files failed with 429 errors
â±ï¸ Total time: ~1 minute
ğŸ’° Wasted API calls: Many retries
```

### After (ã‚­ãƒ¥ãƒ¼å‡¦ç†)
```
âœ… 5/5 files processed (100% success)
âŒ 0/5 files failed
â±ï¸ Total time: ~10-15 minutes
ğŸ’° API calls: Optimal usage
```

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ: ã‚­ãƒ¥ãƒ¼ãŒè©°ã¾ã‚‹
**ç—‡çŠ¶**: queue_size ãŒå¢—ãˆç¶šã‘ã‚‹

**åŸå› å€™è£œ**:
1. ãƒ¯ãƒ¼ã‚«ãƒ¼ã‚¹ãƒ¬ãƒƒãƒ‰ãŒåœæ­¢
2. å…¨ã¦ã®ã‚¸ãƒ§ãƒ–ãŒã‚¨ãƒ©ãƒ¼ã§å¤±æ•—
3. Document AI / Embedding API ãŒå®Œå…¨ã«ãƒ€ã‚¦ãƒ³

**å¯¾ç­–**:
```bash
# ãƒ­ã‚°ç¢ºèª
gcloud logging read "resource.type=cloud_run_revision \
  AND resource.labels.service_name=vectorize-document \
  AND textPayload=~'Worker loop'" --limit=50

# å¿…è¦ã«å¿œã˜ã¦å†ãƒ‡ãƒ—ãƒ­ã‚¤ (ãƒ¯ãƒ¼ã‚«ãƒ¼ãƒªã‚¹ã‚¿ãƒ¼ãƒˆ)
gcloud run services update vectorize-document \
  --region=asia-northeast1
```

### å•é¡Œ: å‡¦ç†ãŒé…ã™ãã‚‹
**ç—‡çŠ¶**: 1ãƒ•ã‚¡ã‚¤ãƒ«ã®å‡¦ç†ã«10åˆ†ä»¥ä¸Šã‹ã‹ã‚‹

**åŸå› å€™è£œ**:
1. å¤§é‡ã®ãƒšãƒ¼ã‚¸/ãƒãƒ£ãƒ³ã‚¯
2. Document AI ã®ãƒãƒƒãƒå‡¦ç†ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
3. Embedding API ã®ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·å¢—åŠ 

**å¯¾ç­–**:
```python
# embedding.py ã® MIN_REQUEST_INTERVAL ã‚’èª¿æ•´
MIN_REQUEST_INTERVAL = 0.5  # 1.0 â†’ 0.5 (ã‚ˆã‚Šé«˜é€ŸåŒ–)

# ãŸã ã—ã‚¯ã‚©ãƒ¼ã‚¿ã«æ³¨æ„ (60 RPM)
```

### å•é¡Œ: ãƒ¡ãƒ¢ãƒªä¸è¶³
**ç—‡çŠ¶**: Cloud Run ãŒ OOM ã§çµ‚äº†

**åŸå› **: ã‚­ãƒ¥ãƒ¼ã«å¤§é‡ã®ã‚¸ãƒ§ãƒ–ãŒæºœã¾ã‚‹

**å¯¾ç­–**:
```bash
# Cloud Run ã®ãƒ¡ãƒ¢ãƒªå¢—é‡
gcloud run services update vectorize-document \
  --memory=4Gi \
  --region=asia-northeast1
```

## ğŸ“š å‚è€ƒè³‡æ–™

- [ProcessingQueue å®Ÿè£…](app/processing_queue.py)
- [EventHandler å®Ÿè£…](app/event_handler.py)
- [QUOTA_HANDLING.md](QUOTA_HANDLING.md) - APIã‚¯ã‚©ãƒ¼ã‚¿è©³ç´°
- [README.md](README.md) - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“æ¦‚è¦

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ãƒ‡ãƒ—ãƒ­ã‚¤å‰:
- [x] `app/processing_queue.py` ä½œæˆ
- [x] `app/event_handler.py` ä¿®æ­£
- [x] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
- [x] Lintã‚¨ãƒ©ãƒ¼è§£æ¶ˆ
- [x] Git ã‚³ãƒŸãƒƒãƒˆ & ãƒ—ãƒƒã‚·ãƒ¥

ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œ:
- [ ] Cloud Build æˆåŠŸç¢ºèª
- [ ] `/health` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç¢ºèª
- [ ] `/queue-status` ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆç¢ºèª
- [ ] ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- [ ] ãƒ­ã‚°ç¢ºèª (429ã‚¨ãƒ©ãƒ¼ãªã—)
- [ ] Vector Search ã« ãƒ‡ãƒ¼ã‚¿ç™»éŒ²ç¢ºèª

---

**ä½œæˆæ—¥**: 2025-10-02  
**æœ€çµ‚æ›´æ–°**: 2025-10-02  
**ä½œæˆè€…**: GitHub Copilot
